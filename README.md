
# 🚀 博客自定义功能维护指南

本文档记录了额外添加的“说说（Moments）”页面和“友情链接”页面的结构、数据存放路径及更新方法。

---

## 📂 目录结构与数据位置

所有的自定义内容都遵循 Fuwari 的设计规范，数据与页面逻辑分离。

| 功能模块 | 数据文件路径 (用于更新内容) | 页面模板路径 (用于修改样式) |
| --- | --- | --- |
| **友情链接** | `src/data/friends.json` | `src/pages/friends/index.astro` |
| **我的说说** | `src/data/ss.json` | `src/pages/ss/index.astro` |
| **卡片组件** | (无独立数据) | `src/components/FriendCard.astro` |

---

## 📝 内容更新说明

### 1. 更新友情链接

打开 `src/data/friends.json`，按照以下格式添加新好友：

```json
{
  "name": "好友名字",
  "url": "https://好友的博客链接",
  "avatar": "https://好友的头像图片链接",
  "bio": "好友的简短描述"
}

```

### 2. 更新说说内容

打开 `src/data/ss.json`，最新发布的内容请放在**数组的最上方**：

```json
{
  "date": "2026-02-13 22:30:00",
  "content": "这里是说说的文字内容，支持换行。",
  "images": [
    "https://图片链接1",
    "https://图片链接2"
  ],
  "tags": ["生活", "代码"]
}

```

> **💡 提示：** > * `date` 建议写完整时间（包含时分秒），这样“几分钟前”的显示会更精准。
>
> * `images` 如果没有图片，请保持为空数组 `[]`。
>
>

---

## 🛠️ 关键功能逻辑说明

### 🕒 相对时间显示 (说说页)

页面会自动计算 `ss.json` 中的日期与当前时间的差距：

* 小于 1 分钟：显示 **刚刚**
* 小于 1 小时：显示 **X分钟前**
* 小于 24 小时：显示 **X小时前**
* 昨天/前天：直接显示 **昨天/前天**
* 超过一周：显示原始日期

### 🖼️ 图片放大预览

* **实现方式**：原生 JavaScript 实现，不依赖第三方库。
* **原理**：点击图片时，脚本会将一个 `fixed` 定位的 Modal 层移动到 `<body>` 根部，确保在任何层级下都能完美居中且不被遮挡。
* **操作**：点击图片放大，点击背景或按 `Esc` 键缩小。

### 🎨 颜色自适应

* **标签与文字**：使用了 Tailwind 的 `dark:` 前缀。
* **亮色模式**：文字偏黑，半透明。
* **暗色模式**：文字偏白，半透明。
* **悬停效果**：鼠标移入时透明度变为 100%，颜色加深。

---

## 🔗 导航栏配置

如果之后需要修改菜单名字，请前往 `src/config.ts` 修改：

* 友情链接：`/friends/`
* 我的说说：`/ss/`
